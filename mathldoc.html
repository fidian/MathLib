<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="Author" content="Rick Huebner">
<meta name="GENERATOR" content="Microsoft FrontPage Express 2.0">
<title>MathLib User's Manual</title>
</head>

<body bgcolor="#C0C0C0" text="#000000" link="#0000EE"
vlink="#551A8B" alink="#FF0000">
<!-- BEGIN WAYBACK TOOLBAR INSERT -->

<script type="text/javascript" src="http://staticweb.archive.org/js/disclaim-element.js" ></script>
<script type="text/javascript" src="http://staticweb.archive.org/js/graph-calc.js" ></script>
<script type="text/javascript" src="http://staticweb.archive.org/jflot/jquery.min.js" ></script>
<script type="text/javascript">
//<![CDATA[
var firstDate = 820454400000;
var lastDate = 1356998399999;
var wbPrefix = "http://web.archive.org/web/";
var wbCurrentUrl = "http:\/\/www.radiks.net\/~rhuebner\/mathldoc.html";

var curYear = -1;
var curMonth = -1;
var yearCount = 18;
var firstYear = 1996;
var imgWidth=450;
var yearImgWidth = 25;
var monthImgWidth = 2;
var trackerVal = "none";
var displayDay = "24";
var displayMonth = "Jul";
var displayYear = "2011";
var prettyMonths = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

function showTrackers(val) {
	if(val == trackerVal) {
		return;
	}
	if(val == "inline") {
		document.getElementById("displayYearEl").style.color = "#ec008c";
		document.getElementById("displayMonthEl").style.color = "#ec008c";
		document.getElementById("displayDayEl").style.color = "#ec008c";		
	} else {
		document.getElementById("displayYearEl").innerHTML = displayYear;
		document.getElementById("displayYearEl").style.color = "#ff0";
		document.getElementById("displayMonthEl").innerHTML = displayMonth;
		document.getElementById("displayMonthEl").style.color = "#ff0";
		document.getElementById("displayDayEl").innerHTML = displayDay;
		document.getElementById("displayDayEl").style.color = "#ff0";
	}
   document.getElementById("wbMouseTrackYearImg").style.display = val;
   document.getElementById("wbMouseTrackMonthImg").style.display = val;
   trackerVal = val;
}
function getElementX2(obj) {
	var thing = jQuery(obj);
	if((thing == undefined) 
			|| (typeof thing == "undefined") 
			|| (typeof thing.offset == "undefined")) {
		return getElementX(obj);
	}
	return Math.round(thing.offset().left);
}
function trackMouseMove(event,element) {

   var eventX = getEventX(event);
   var elementX = getElementX2(element);
   var xOff = eventX - elementX;
	if(xOff < 0) {
		xOff = 0;
	} else if(xOff > imgWidth) {
		xOff = imgWidth;
	}
   var monthOff = xOff % yearImgWidth;

   var year = Math.floor(xOff / yearImgWidth);
	var yearStart = year * yearImgWidth;
   var monthOfYear = Math.floor(monthOff / monthImgWidth);
   if(monthOfYear > 11) {
       monthOfYear = 11;
   }
   // 1 extra border pixel at the left edge of the year:
   var month = (year * 12) + monthOfYear;
   var day = 1;
	if(monthOff % 2 == 1) {
		day = 15;
	}
	var dateString = 
		zeroPad(year + firstYear) + 
		zeroPad(monthOfYear+1,2) +
		zeroPad(day,2) + "000000";

	var monthString = prettyMonths[monthOfYear];
	document.getElementById("displayYearEl").innerHTML = year + 1996;
	document.getElementById("displayMonthEl").innerHTML = monthString;
	// looks too jarring when it changes..
	//document.getElementById("displayDayEl").innerHTML = zeroPad(day,2);

	var url = wbPrefix + dateString + '/' +  wbCurrentUrl;
	document.getElementById('wm-graph-anchor').href = url;

   //document.getElementById("wmtbURL").value="evX("+eventX+") elX("+elementX+") xO("+xOff+") y("+year+") m("+month+") monthOff("+monthOff+") DS("+dateString+") Moy("+monthOfYear+") ms("+monthString+")";
   if(curYear != year) {
       var yrOff = year * yearImgWidth;
       document.getElementById("wbMouseTrackYearImg").style.left = yrOff + "px";
       curYear = year;
   }
   if(curMonth != month) {
       var mtOff = year + (month * monthImgWidth) + 1;
       document.getElementById("wbMouseTrackMonthImg").style.left = mtOff + "px";
       curMonth = month;
   }
}
//]]>
</script>

<style type="text/css">body{margin-top:0!important;padding-top:0!important;min-width:800px!important;}#wm-ipp a:hover{text-decoration:underline!important;}</style>
<div id="wm-ipp" style="display:none; position:relative;padding:0 5px;min-height:70px;min-width:800px; z-index:9000;">
<div id="wm-ipp-inside" style="position:fixed;padding:0!important;margin:0!important;width:97%;min-width:780px;border:5px solid #000;border-top:none;background-image:url(http://staticweb.archive.org/images/toolbar/wm_tb_bk_trns.png);text-align:center;-moz-box-shadow:1px 1px 3px #333;-webkit-box-shadow:1px 1px 3px #333;box-shadow:1px 1px 3px #333;font-size:11px!important;font-family:'Lucida Grande','Arial',sans-serif!important;">
   <table style="border-collapse:collapse;margin:0;padding:0;width:100%;"><tbody><tr>
   <td style="padding:10px;vertical-align:top;min-width:110px;">
   <a href="http://wayback.archive.org/web/" title="Wayback Machine home page" style="background-color:transparent;border:none;"><img src="http://staticweb.archive.org/images/toolbar/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0"/></a>
   </td>
   <td style="padding:0!important;text-align:center;vertical-align:top;width:100%;">

       <table style="border-collapse:collapse;margin:0 auto;padding:0;width:570px;"><tbody><tr>
       <td style="padding:3px 0;" colspan="2">
       <form target="_top" method="get" action="http://wayback.archive.org/web/form-submit.jsp" name="wmtb" id="wmtb" style="margin:0!important;padding:0!important;"><input type="text" name="url" id="wmtbURL" value="http://www.radiks.net/~rhuebner/mathldoc.html" style="width:400px;font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;" onfocus="javascript:this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20110724030222" /><input type="submit" value="Go" style="font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;margin-left:5px;" /><span id="wm_tb_options" style="display:block;"></span></form>
       </td>
       <td style="vertical-align:bottom;padding:5px 0 0 0!important;" rowspan="2">
           <table style="border-collapse:collapse;width:110px;color:#99a;font-family:'Helvetica','Lucida Grande','Arial',sans-serif;"><tbody>
			
           <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
           <tr style="width:110px;height:16px;font-size:10px!important;">
           	<td style="padding-right:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="http://web.archive.org/web/20110522153740/http://www.radiks.net/~rhuebner/mathldoc.html" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="22 May 2011"><strong>MAY</strong></a>
		                
               </td>
               <td id="displayMonthEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight:bold;text-transform:uppercase;width:34px;height:15px;padding-top:1px;text-align:center;" title="You are here: 3:02:22 Jul 24, 2011">JUL</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       Aug
                       
               </td>
           </tr>

           <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
           <tr>
               <td style="padding-right:9px;white-space:nowrap;overflow:visible;text-align:right!important;vertical-align:middle!important;" nowrap="nowrap">
               
		                <a href="http://web.archive.org/web/20110724025810/http://www.radiks.net/~rhuebner/mathldoc.html" title="2:58:10 Jul 24, 2011" style="background-color:transparent;border:none;"><img src="http://staticweb.archive.org/images/toolbar/wm_tb_prv_on.png" alt="Previous capture" width="14" height="16" border="0" /></a>
		                
               </td>
               <td id="displayDayEl" style="background:#000;color:#ff0;width:34px;height:24px;padding:2px 0 0 0;text-align:center;font-size:24px;font-weight: bold;" title="You are here: 3:02:22 Jul 24, 2011">24</td>
				<td style="padding-left:9px;white-space:nowrap;overflow:visible;text-align:left!important;vertical-align:middle!important;" nowrap="nowrap">
               
                       <img src="http://staticweb.archive.org/images/toolbar/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0"/>
                       
			    </td>
           </tr>

           <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
           <tr style="width:110px;height:13px;font-size:9px!important;">
				<td style="padding-right:9px;font-size:11px!important;font-weight: bold;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="http://web.archive.org/web/20080509073340/http://www.radiks.net/~rhuebner/mathldoc.html" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="9 May 2008"><strong>2008</strong></a>
		                
               </td>
               <td id="displayYearEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight: bold;padding-top:1px;width:34px;height:13px;text-align:center;" title="You are here: 3:02:22 Jul 24, 2011">2011</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight: bold;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       2012
                       
				</td>
           </tr>
           </tbody></table>
       </td>

       </tr>
       <tr>
       <td style="vertical-align:middle;padding:0!important;">
           <a href="http://wayback.archive.org/web/20110724030222*/http://www.radiks.net/~rhuebner/mathldoc.html" style="color:#33f;font-size:11px;font-weight:bold;background-color:transparent;border:none;" title="See a list of every capture for this URL"><strong>44 captures</strong></a>
           <div style="margin:0!important;padding:0!important;color:#666;font-size:9px;padding-top:2px!important;white-space:nowrap;" title="Timespan for captures of this URL">20 Jun 01 - 24 Jul 11</div>
       </td>
       <td style="padding:0!important;">
       <a style="position:relative; white-space:nowrap; width:450px;height:27px;" href="" id="wm-graph-anchor">
       <div id="wm-ipp-sparkline" style="position:relative; white-space:nowrap; width:450px;height:27px;background-color:#fff;cursor:pointer;border-right:1px solid #ccc;" title="Explore captures for this URL">
			<img id="sparklineImgId" style="position:absolute; z-index:9012; top:0px; left:0px;"
				onmouseover="showTrackers('inline');" 
				onmouseout="showTrackers('none');"
				onmousemove="trackMouseMove(event,this)"
				alt="sparklines"
				width="450"
				height="27"
				border="0"
				src="http://wayback.archive.org/web/jsp/graph.jsp?graphdata=450_27_1996:-1:000000000000_1997:-1:000000000000_1998:-1:000000000000_1999:-1:000000000000_2000:-1:000000000000_2001:-1:000001000111_2002:-1:010101010101_2003:-1:010101000101_2004:-1:010001010101_2005:-1:021000000000_2006:-1:000101142101_2007:-1:001102110000_2008:-1:000010000000_2009:-1:000000000000_2010:-1:000000000000_2011:6:000010200000_2012:-1:000000000000"></img>
			<img id="wbMouseTrackYearImg" 
				style="display:none; position:absolute; z-index:9010;"
				width="25" 
				height="27"
				border="0"
				src="http://staticweb.archive.org/images/toolbar/transp-yellow-pixel.png"></img>
			<img id="wbMouseTrackMonthImg"
				style="display:none; position:absolute; z-index:9011; " 
				width="2"
				height="27" 
				border="0"
				src="http://staticweb.archive.org/images/toolbar/transp-red-pixel.png"></img>
       </div>
		</a>

       </td>
       </tr></tbody></table>
   </td>
   <td style="text-align:right;padding:5px;width:65px;font-size:11px!important;">
       <a href="javascript:;" onclick="document.getElementById('wm-ipp').style.display='none';" style="display:block;padding-right:18px;background:url(http://staticweb.archive.org/images/toolbar/wm_tb_close.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;margin-bottom:23px;background-color:transparent;border:none;" title="Close the toolbar">Close</a>
       <a href="http://faq.web.archive.org/" style="display:block;padding-right:18px;background:url(http://staticweb.archive.org/images/toolbar/wm_tb_help.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;background-color:transparent;border:none;" title="Get some help using the Wayback Machine">Help</a>
   </td>
   </tr></tbody></table>

</div>
</div>
<script type="text/javascript">
 var wmDisclaimBanner = document.getElementById("wm-ipp");
 if(wmDisclaimBanner != null) {
   disclaimElement(wmDisclaimBanner);
 }
</script>
<!-- END WAYBACK TOOLBAR INSERT -->


<h1 align="center">MathLib User's Manual</h1>

<p>Last updated February 6th, 2003. See the <a
href="http://web.archive.org/web/20110724030222/http://www.radiks.net/~rhuebner/mathlib.html">MathLib
Information web page</a> for the latest version, source code, bug
reports, or other information, or send email to <a
href="mailto:rhuebner@radiks.net">rhuebner@radiks.net</a>.</p>

<h5><u>[Description]</u> <a href="http://web.archive.org/web/20110724030222/http://www.radiks.net/~rhuebner/mathldoc.html#Installation">[Installation]</a>
<a href="http://web.archive.org/web/20110724030222/http://www.radiks.net/~rhuebner/mathldoc.html#Using MathLib">[Using MathLib]</a> <a
href="http://web.archive.org/web/20110724030222/http://www.radiks.net/~rhuebner/mathldoc.html#Rebuilding MathLib">[Rebuilding MathLib]</a> <a
href="http://web.archive.org/web/20110724030222/http://www.radiks.net/~rhuebner/mathldoc.html#Legal Stuff">[Legal Stuff]</a> <a href="http://web.archive.org/web/20110724030222/http://www.radiks.net/~rhuebner/mathldoc.html#Maintenance">[Maintenance
Notes]</a>&nbsp; </h5>

<hr>

<h3 align="center">Description</h3>

<p>MathLib is a PalmOS shared library which makes a complete set
of IEEE-754 double-precision math functions available to other
PalmPilot applications. These functions include all the standard
routines normally accessed by including &quot;math.h&quot; on
other systems, including trigonometry (with inverse and
hyperbolic), logarithms, exponentiation, and miscellaneous helper
functions. The only standard routines I left out were the Bessel
and Gamma functions, which had the poor taste to be both very
large and very rarely used. These routines have been ported from
the GCC 2.7.2.2 source code for libm.a (which was itself based on
free code originally developed by Sun Microsystems, Inc.), so
this library is free software covered by the <a
href="http://web.archive.org/web/20110724030222/http://www.radiks.net/~rhuebner/copying.txt">GNU Library General Public License</a>. </p>

<p>There are two main advantages to using this library. Firstly,
writing floating-point math functions that are reasonably fast,
accurate, and robust is so incredibly difficult that few
programmers will manage it on their own; hopefully, this library
will spark the availability of many new programs for the Pilot
that were impossible before. And secondly, as you can see from
the size of this thing, floating-point code on the Pilot takes up
a lot of space. It's much better to have a single copy shared
between all the programs that need it than to have each
application include their own. How many copies of the trig
functions (at 20 or 30 KB each) do you really want on your Pilot?</p>

<p>Many thanks to <a href="mailto:iang@cs.berkeley.edu">Ian
Goldberg</a> of <a href="http://web.archive.org/web/20110724030222/http://www.isaac.cs.berkeley.edu/pilot/">Berkeley's
ISAAC Group</a> for the excellent treatise on <a
href="http://web.archive.org/web/20110724030222/http://www.isaac.cs.berkeley.edu/pilot/shlib.html">Pilot
shared libraries</a> that made this project possible. You should
read and understand that document completely before you even
think about making any changes to this library, but it's not
really necessary if you just want to call the library from your
program.</p>

<p><b>Note:</b> Due to a fundamental constraint of the
NewFloatMgr.lib floating point emulation library, MathLib
requires <b>version 2.0 or greater</b> of the OS. The problem is
that the floating point emulation library (which must be used in
order to do IEEE 754 math under OS 1.x) requires the global
variable __SoftFPSCR__, and SysLib-style shared libraries can't
have any global variables. GLib-style libraries are supposed to
support globals, but can only be built or used with GCC, and I
needed this library to be usable by applications written with the
CodeWarrior compiler (namely <a
href="http://web.archive.org/web/20110724030222/http://www.radiks.net/~rhuebner/mathpad.html">MathPad</a>
and <a href="http://web.archive.org/web/20110724030222/http://www.radiks.net/~rhuebner/parens.html">Parens</a>).
If anyone comes up with a way to build and call shared libraries
using CodeWarrior on my Win95 system that will let me use the
NewFloatMgr routines under OS 1.x, please let me know.</p>

<hr>

<h3 align="center"><a name="Installation"></a>Installation</h3>

<p>MathLib is packaged as a standard .PRC Pilot resource
database, and can be installed on your Pilot just like any
regular application program. Just use your install tool or
equivalent to load it into your Pilot before using any programs
that call it. To remove MathLib from your Pilot, just use the
standard Memory application built into the Pilot ROM to delete
it. Ian mentions in his writeup that he has to delete an older
version of a library before installing a new one, but I haven't
had any problems with that. It might depend on what software you
use to synchronize, but the standard Win95 HotSync program has
always worked OK for me.</p>

<p>Each program which uses a shared library is responsible for
gracefully failing if the library's not available when it runs.
If they try and run anyway, they'll simply cause a system reset
as soon as they try to call a library routine, but this shouldn't
hurt anything.</p>

<hr>

<h3 align="center"><a name="Using MathLib"></a>Using MathLib</h3>

<p>Include &quot;MathLib.h&quot; in any source file that needs to
do anything with the library. Add MathLib.c to your project file
or makefile. Prepare the library for use in your
StartApplication( ) routine or equivalent, like this:</p>

<ul>
    <li><pre>Err error;

error = SysLibFind(MathLibName, &amp;MathLibRef);
if (error)
&nbsp;&nbsp;&nbsp;&nbsp;error = SysLibLoad(LibType, MathLibCreator, &amp;MathLibRef);
ErrFatalDisplayIf(error, &quot;Can't find MathLib&quot;);&nbsp;// Just an example; handle it gracefully
error = MathLibOpen(MathLibRef, MathLibVersion);
ErrFatalDisplayIf(error, &quot;Can't open MathLib&quot;); </pre>
    </li>
</ul>

<p>Call whatever functions you need:</p>

<ul>
    <li><pre>FlpCompDouble x;  // For compatibility with the Flp routines. Bleah.

x.d = sqrt(867.5309) * tan(42);
FlpFToA(x.fd, buffer);</pre>
    </li>
</ul>

<p>and release the library in your StopApplication( ) routine or
equivalent, like so:</p>

<ul>
    <li><pre>UInt usecount;

error = MathLibClose(MathLibRef, &amp;usecount);
ErrFatalDisplayIf(error, &quot;Can't close MathLib&quot;);
if (usecount == 0)
&nbsp;&nbsp;&nbsp;&nbsp;SysLibRemove(MathLibRef); </pre>
    </li>
</ul>

<p>That's it. As for the math routines themselves, please
remember that all angles are measured in radians, not degrees.
There's no exception signalling or error reporting, but the
standard IEEE-754 special &quot;non-number&quot; values of NaN
(not a number), +INF (positive infinity) and -INF (negative
infinity) will be returned appropriately if you do something
silly like divide by 0. If you have any specific questions about
a particular math function or its algorithm, look at the source
code for that routine; most of them have quite complete
documentation describing how they work. Please don't bother
asking me; I didn't write these routines, and generally don't
know any more about how they work than you do. I'm just
repackaging them.</p>

<hr>

<h3 align="center"><a name="Rebuilding MathLib"></a>Rebuilding
MathLib</h3>

<p>If you fix any bugs or add new functions to this library that
would be generally useful to others, I'd appreciate being kept
informed so that I can keep it up to date. It'll be a real mess
if we have 10 flavors of MathLib out on the net with subtle
differences between each. And the space savings of sharing the
code would be pretty much wasted if we ended up needing several
different math libraries loaded into our Pilots to get all of our
apps to work. However, this is free software, and you're entitled
to modify it. If you do so, here's what you'll need to know in
order to rebuild it.</p>

<p>The first consideration is that it was developed with
CodeWarrior. If you need to rebuild this under GCC, you'll have
to do some major surgery on the startup code in MathLib.c, to
change the inline assembler code to GCC format. See Ian
Goldberg's <a
href="http://web.archive.org/web/20110724030222/http://www.isaac.cs.berkeley.edu/pilot/shlib.html">shared
library treatise</a> for a good example of how to do this. The
rest of the code should be pretty much OK, except for some
pragmas. To get CodeWarrior to create a shared library instead of
a regular program, set the 68K Target &quot;Project Type&quot; to
&quot;PalmOS Code Resource&quot;, with a ResType of
&quot;libr&quot; and a ResID of 0. You must also specify a
PilotRez &quot;Output Options&quot; Type of &quot;libr&quot; and
Creator of &quot;MthL&quot; (use a different creator code if
you're not replacing MathLib). Under 68K Processor, be sure to
check &quot;4-Byte Ints&quot; so that the math routines (which
were written under UNIX) will be happy, and &quot;8-Byte
Doubles&quot; for IEEE-754 double precision format. Finally,
check &quot;Link Single Segment&quot; in the 68K Linker section.</p>

<p>The second thing to bear in mind is the size of the library.
Some trickiness was used to allow this library to hold more than
the usual 32KB of code. The key to making this work is the
arrangement of the routines within the code segment. All of the
library entry points jump to mathcalls.c, which contains a set of
encapsulation stubs which translate the Palm OS mandated library
routine calling conventions into the standard arguments expected
by the GCC math functions. By putting these translation stubs in
the middle of the code segment instead of at the beginning, we
can stretch the 32KB limit. The reason 32KB is usually considered
to be the maximum size of a code segment is that the 68000 chip's
pc-relative jmp and jsr instructions can only jump +/-32KB from
the calling routine. From the launch point of the translation
stubs in the middle of the code segment, we can jump 32KB in <i>either</i>
direction, allowing us to have up to 64KB of code. The only
problem this leaves is the possibility that a routine near one
end of the code segment might try to call something near the
other other end, exceeding the jmp distance limit. This is
avoided by carefully arranging the order in which the functions
are appended to the code segment to cluster the routines that
call each other together and maximize locality of reference. The
few unavoidable cases that remain are handled by using &quot;jump
islands&quot; in mathcalls.c to act as jump repeaters and extend
the range. See the file MathLib.map for a detailed listing of the
current subroutine order being used. </p>

<p>I've included the CodeWarrior project file MathLib.mcp in this
archive; hopefully this will give you the correct compiler
settings and code segment link order. GCC users should see Ian's
library treatise (again) for detailed instructions on generating
shared libraries with GCC. Read the MathLib.map file to get the
correct order for the math function object files on the gcc
command line when linking.</p>

<hr>

<h3 align="center"><a name="Legal Stuff"></a>Legal Stuff</h3>

<p>MathLib.prc is a derivative work of the libm.a math library
that comes with GCC 2.7.2.2. It's distributed in accordance with
the <a href="http://web.archive.org/web/20110724030222/http://www.radiks.net/~rhuebner/copying.txt">GNU Library General Public License</a>,
which explicitly gives you the right to make use of the library
from within your own programs, without any effect on anybody's
rights regarding your software. If you write a program using GCC,
calling a function from libm.a does <em>not</em> automatically
make your program fall under the Public License. In exactly the
same way, calling a function from MathLib.prc does <em>not</em>
make your program come under the Public License, either. The GNU
Library General Public License applies only to MathLib itself,
and not to those programs which make use of MathLib. Your
software is <em>not</em> considered a derivative work of
MathLib.prc.</p>

<p>Let's see if I can stress this a bit more strongly for all
those barracks lawyers out there. To quote the holy LGPL:</p>

<blockquote>
    <pre>A program that contains no derivative of any portion of the
Library, but is designed to work with the Library by being compiled or
linked with it, is called a &quot;work that uses the Library&quot;. Such a
work, in isolation, is not a derivative work of the Library, and
therefore falls outside the scope of this License.</pre>
</blockquote>

<p>And regarding distribution:</p>

<blockquote>
    <pre>In addition, mere aggregation of another work not based on the Library
with the Library (or with a work based on the Library) on a volume of
a storage or distribution medium does not bring the other work under
the scope of this License.</pre>
</blockquote>

<p>And finally, a quote from an email from the great Richard
Stallman himself (prompted by some idiot who was trying to force
a MathLib user to publish his source code):</p>

<blockquote>
    <pre>If MathLib was released under the Library GPL, then it is permitted to
link it into proprietary (non-free) programs, following the rules of
the Library GPL of course.</pre>
</blockquote>

<p>OK, people? I don't want to get off on a rant, but... <em>(cue
spotlight)</em> I'm sick and tired of catching grief from
schmucks who assume that anything which in any way comes into
contact with free OSF code must automatically be free also. Quit
trying to use MathLib as an excuse for extortion of other
people's hard work. The time and effort that I and other
programmers have to spend responding to you idiots' accusations
discourages the very use of OSF code that the GPL is supposed to
promote, and would have been much better spent on improving our
programs. &quot;Oooh! He uses MathLib so now he has to give me
his source code!&quot; <strong>WRONG.</strong> Yeesh! Get a life
and go create something constructive instead of spending your
time trashing other people's efforts. <em>(cue stage lights)</em></p>

<p>Whew. I feel better now.</p>

<p>You may distribute a copy of MathLib.prc with your
application, so long as you clearly indicate in your
documentation that MathLib is not part of your program, but is
independently available free software which you are simply
providing as a convenience; and that you inform the user where
and how they may obtain the latest version and full source code.
A paragraph similar to the following is acceptable (spell out the
URL if not using HTML):</p>

<ul>
    <li><font size="2">MathLib is a free shared library that can
        be used by any OS 2.0+ Pilot program that needs IEEE 754
        double precision math functions. It's distributed under
        the terms of the GNU Library General Public License, and
        is freely available with full source code and
        documentation at the </font><a
        href="http://web.archive.org/web/20110724030222/http://www.radiks.net/~rhuebner/mathlib.html"><font
        size="2">MathLib Information web page</font></a><font
        size="2">. It's not a part of the MathPad program, and
        you're not paying anything for its use; a copy is simply
        included in this archive for your convenience.</font></li>
</ul>

<p>Or, you may simply state that your program requires MathLib in
order to work, and inform them where they may obtain it for
themselves. </p>

<p>This program is free software; you can redistribute it and/or
modify it under the terms of the GNU Library General Public
License as published by the Free Software Foundation; either
version 2 of the License, or (at your option) any later version.</p>

<p>This program is distributed in the hope that it will be
useful, but WITHOUT ANY WARRANTY; without even the implied
warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
See the GNU Library General Public License for more details.</p>

<p>You should have received a copy of the GNU Library General
Public License along with this program; see file <a
href="http://web.archive.org/web/20110724030222/http://www.radiks.net/~rhuebner/copying.txt">COPYING.TXT</a>. If not, write to the Free
Software Foundation, Inc., 59 Temple Place - Suite 330, Boston,
MA 02111-1307, USA </p>

<hr>

<h3 align="center"><a name="Maintenance"></a>Maintenance Notes</h3>

<p>6 February 2003: Corrected licensing of MathLib.c file, and changed startup.c to use Entry Point setting in 68K Target control panel.  No executable code changes.</p>

<p>1 August 2001: Updated web page address.</p>

<p>2 May 2001: Updated to use Palm OS 4.0 SDK.</p>

<p>Version 1.1, 13 April 1999: Updated the code for s_cbrt.c and
s_modf.c to match what's being used in GNU libc 2.0. This fixes a
problem with the cube root function that caused it to give
invalid results for values from 0.5 to 1.0. The library has also
shrunk by about 5KB, due to improved optimization in the latest
version of the CodeWarrior compiler.</p>

<p>Version 1.02, 13 July 1998: Corrected the documentation and
some source code comments to more correctly identify the use of
the GNU *Library* General Public License instead of the plain old
regular General Public License. No code changes.</p>

<p>Version 1.01, 24 August 1997: Changed the convenience wrapper
functions from inline declarations to standard functions in their
own source file, due to CodeWarrior problems with the inline
routines. Rewrote the startup code to make it easier to
understand. Changed the global data to use moveable dynamic
memory instead of fixed.</p>

<p>Version 1.0, 19 August 1997: Original release.</p>

<hr>

<h5 align="center">This page Copyright Â© 1997-2003 Rick Huebner; All Rights
Reserved</h5>
</body>
</html>





<!--
     FILE ARCHIVED ON 3:02:22 Jul 24, 2011 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 14:01:36 Jan 1, 2013.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
